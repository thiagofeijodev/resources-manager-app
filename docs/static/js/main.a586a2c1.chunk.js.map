{"version":3,"sources":["data/auth/actions.js","functions/loadStorage.js","data/auth/reducer.js","data/auth/seletors.js","data/resource/actions.js","data/resource/reducer.js","data/resource/seletors.js","data/history/actions.js","data/history/reducer.js","data/history/seletors.js","data/index.js","serviceWorker.js","components/List/components/Align/index.js","components/List/components/List/index.js","components/List/index.js","components/RequireAuth/index.js","components/RestoreBackup/index.js","scenes/scenes/SplashScreen/index.js","scenes/scenes/Login/components/Container/index.js","scenes/scenes/Login/components/Form/index.js","scenes/scenes/Login/index.js","scenes/scenes/Home/components/ItemHistory/index.js","scenes/scenes/Home/components/ItemResouce/index.js","scenes/scenes/Home/components/ViewerHistory/index.js","scenes/scenes/Home/components/ViewerResource/index.js","scenes/scenes/Home/index.js","scenes/index.js","index.js"],"names":["BASE_PATH","LOGIN","LOGOUT","login","createAction","logout","loadStorage","key","user","localStorage","getItem","JSON","parse","initialState","storage","users","authReducer","createReducer","builder","addCase","state","action","username","payload","toLowerCase","password","hash","sign","_state","setItem","stringify","errors","isInvalid","_","auth","selectAuth","selectUsername","selectError","INCLUDE","CHANGE","include","change","resources","resourceReducer","resource","amount","selectResource","list","historyReducer","selectHistory","history","store","configureStore","reducer","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","Align","styled","display","justifyContent","alignItems","List","items","onSelect","Component","overrides","Option","props","ListItem","component","React","forwardRef","ref","title","Viewer","Item","useState","selected","setSelected","isOpen","shape","SHAPE","circle","onClick","item","onClose","closeable","animate","autoFocus","size","SIZE","full","role","ROLE","dialog","RequireAuth","children","useSelector","to","RestoreBackup","onRestore","onReaderLoad","event","target","result","includes","reload","ContentMessage","accept","multiple","onDrop","acceptedFiles","files","reader","FileReader","onload","readAsText","onChange","SplashScreen","Container","width","margin","Form","onSubmit","initialValues","validate","values","touched","handleChange","handleBlur","handleSubmit","isSubmitting","label","type","name","onBlur","value","disabled","isLoading","BaseButton","style","Login","dispatch","useDispatch","setSubmitting","kind","KIND","negative","Body","ItemHistory","id","map","join","endEnhancer","description","ItemResouce","ViewerHistory","isEdit","Object","keys","length","resourceId","submitData","Date","toISOString","setFieldValue","options","placeholder","labelKey","valueKey","toLocaleString","ButtonKind","tertiary","ViewerResource","Home","activeKey","setActiveKey","downloadBackup","allData","reduce","obj","str","content","fileName","contentType","a","document","createElement","file","Blob","href","URL","createObjectURL","download","click","reverse","Root","path","element","engine","Styletron","ReactDOM","render","theme","LightTheme","getElementById","process","origin","addEventListener","fetch","headers","response","get","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a586a2c1.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit'\n\nconst BASE_PATH = '/auth'\nconst LOGIN = `${BASE_PATH}/LOGIN`\nconst LOGOUT = `${BASE_PATH}/LOGOUT`\n\nconst login = createAction(LOGIN)\nconst logout = createAction(LOGOUT)\n\nexport {\n  BASE_PATH,\n  LOGIN,\n  LOGOUT,\n  login,\n  logout,\n}\n","export default function loadStorage(key) {\n  const user = localStorage.getItem(key)\n\n  if (user) {\n    return JSON.parse(user) || {}\n  }\n  return null\n}\n","import { createReducer } from '@reduxjs/toolkit'\nimport { sign } from 'jsonwebtoken'\nimport { login, logout, BASE_PATH } from './actions'\nimport { loadStorage } from 'functions'\n\nconst initialState = () => {\n  const storage = loadStorage(BASE_PATH)\n  if (storage) return storage\n\n  return { user: null, users: null }\n}\n\nconst authReducer = createReducer(initialState(), (builder) => {\n  builder\n    .addCase(login, (state, action) => {\n      const username = action.payload.username.toLowerCase()\n      const password = action.payload.password.toLowerCase()\n      const storage = initialState()\n      const hash = sign(username.toLowerCase(), password)\n      const user = storage.user || {}\n      const users = storage.users || {}\n\n      if (!users[username]) {\n        users[username] = hash\n      }\n\n      if (users[username] && users[username] === hash) {\n        user['username'] = username\n        user['hash'] = hash\n\n        const _state = { users, user: user }\n        localStorage.setItem(BASE_PATH, JSON.stringify(_state))\n        state.user = user\n      }\n      \n      state.errors = { isInvalid: true }\n    })\n    .addCase(logout, (state, _) => {\n      const auth = {\n        ...loadStorage(BASE_PATH),\n        user: null\n      }\n      localStorage.setItem(BASE_PATH, JSON.stringify(auth))\n      state.user = null\n      state.errors = null\n    })\n})\n\nexport default authReducer\n","export const selectAuth = (state) => state.auth?.user\nexport const selectUsername = (state) => state.auth?.user?.username\nexport const selectError = (state) => state.auth?.errors\n","import { createAction } from '@reduxjs/toolkit'\n\nconst BASE_PATH = '/resources'\nconst INCLUDE = `${BASE_PATH}/INCLUDE`\nconst CHANGE = `${BASE_PATH}/CHANGE`\n\nconst include = createAction(INCLUDE)\nconst change = createAction(CHANGE)\n\nexport {\n  BASE_PATH,\n  INCLUDE,\n  CHANGE,\n  include,\n  change,\n}\n","import { createReducer } from '@reduxjs/toolkit'\nimport { include, change, BASE_PATH } from './actions'\nimport { loadStorage } from 'functions'\n\nconst initialState = () => {\n  const storage = loadStorage(BASE_PATH)\n  if (storage) return storage\n\n  return { resources: {} }\n}\n\nconst resourceReducer = createReducer(initialState(), (builder) => {\n  builder\n    .addCase(include, (state, action) => {\n      const { payload } = action\n      const { resources } = initialState()\n      resources[payload['id']] = payload\n\n      localStorage.setItem(BASE_PATH, JSON.stringify({ resources }))\n      state.resources = resources\n    })\n    .addCase(change, (state, action) => {\n      const { payload } = action\n      const { resources } = initialState()\n      const resource = resources[payload['resourceId']]\n\n      resource.amount = resource.amount + payload.amount\n\n      localStorage.setItem(BASE_PATH, JSON.stringify({ resources }))\n      state.resources = resources\n    })\n})\n\nexport default resourceReducer\n","export const selectResource = (state) => state.resource?.resources || {}\n","import { createAction } from '@reduxjs/toolkit'\n\nconst BASE_PATH = '/history'\nconst INCLUDE = `${BASE_PATH}/INCLUDE`\n\nconst include = createAction(INCLUDE)\n\nexport {\n  BASE_PATH,\n  INCLUDE,\n  include,\n}\n","import { createReducer } from '@reduxjs/toolkit'\nimport { include, BASE_PATH } from './actions'\nimport { loadStorage } from 'functions'\n\nconst initialState = () => {\n  const storage = loadStorage(BASE_PATH)\n  if (storage) return storage\n\n  return { list: [] }\n}\n\nconst historyReducer = createReducer(initialState(), (builder) => {\n  builder\n    .addCase(include, (state, action) => {\n      const { payload } = action\n      const storage = initialState()\n      storage.list = [\n        ...storage.list,\n        payload,\n      ]\n\n      localStorage.setItem(BASE_PATH, JSON.stringify(storage))\n      state.list = storage.list\n    })\n})\n\nexport default historyReducer\n","export const selectHistory = (state) => state.history?.list || []\n","import { configureStore } from '@reduxjs/toolkit'\nimport { authReducer } from './auth'\nimport { resourceReducer } from './resource'\nimport { historyReducer } from './history'\n\nexport const store = configureStore({\n  reducer: {\n    auth: authReducer,\n    resource: resourceReducer,\n    history: historyReducer,\n  },\n})\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    window.location.hostname === '[::1]' ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { styled } from 'styletron-react'\n\nconst Align = styled(\"div\", {\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'baseline',\n})\n\nexport default Align\n","import React from 'react'\nimport { Menu } from 'baseui/menu'\n\nexport default function List({ items, onSelect, Component }) {\n  return (\n    <Menu\n      items={items}\n      overrides={{\n        Option: {\n          props: {\n            overrides: {\n              ListItem: {\n                component: React.forwardRef((props, ref) => (\n                  <Component\n                    {...props}\n                    ref={ref}\n                    onSelect={onSelect}\n                  />\n                )),\n              },\n            },\n          },\n        },\n      }}\n    />\n  )\n}\n","import React from 'react'\nimport { Button, SHAPE } from 'baseui/button'\nimport { Modal, SIZE, ROLE } from 'baseui/modal'\nimport { Heading, HeadingLevel } from 'baseui/heading'\nimport { Plus } from 'baseui/icon'\nimport { List as BaseUIList, Align } from './components'\n\nexport default function List({ title, items, Viewer, Item }) {\n  const [selected, setSelected] = React.useState(null)\n  const isOpen = !!selected\n\n  return (\n    <>\n      <HeadingLevel>\n        <Align>\n          <Heading>\n            {title} \n          </Heading>\n          <Button\n            shape={SHAPE.circle}\n            onClick={() => setSelected({})}\n          >\n            <Plus />\n          </Button>\n        </Align>\n      </HeadingLevel>\n\n      <BaseUIList\n        items={items}\n        onSelect={({ item }) => setSelected(item)}\n        Component={Item}\n      />\n\n      <Modal\n        onClose={() => setSelected(null)}\n        closeable\n        isOpen={isOpen}\n        animate\n        autoFocus\n        size={SIZE.full}\n        role={ROLE.dialog}\n      >\n        <Viewer\n          item={selected}\n          onClose={() => setSelected(null)}\n        />\n      </Modal>\n    </>\n  )\n}\n","import React from 'react'\nimport { Navigate } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { selectAuth } from 'data/auth'\n\nexport default function RequireAuth({ children }) {\n  const auth = useSelector(selectAuth)\n\n  if (!auth) {\n    return <Navigate to=\"/login\" />\n  }\n\n  return children\n}\n","import React from 'react'\nimport { FileUploader } from 'baseui/file-uploader'\nimport { BASE_PATH as auth } from 'data/auth'\nimport { BASE_PATH as history } from 'data/history'\nimport { BASE_PATH as resource } from 'data/resource'\n\nexport default function RestoreBackup({ onRestore }) {\n  function onChange(files) {\n    var reader = new FileReader()\n    reader.onload = onReaderLoad\n    reader.readAsText(files[0])\n  }\n\n  function onReaderLoad(event) {\n    const storage = JSON.parse(event.target.result)\n\n    for (let item in storage) {\n      if ([ auth, history, resource ].includes(item)) {\n        localStorage.setItem(item, storage[item])\n      }\n    }\n\n    window.location.reload()\n  }\n\n  return (\n    <FileUploader\n      overrides={{\n        ContentMessage: () => \"Load database...\"\n      }}\n      accept={['.json']}\n      multiple={false}\n      onDrop={(acceptedFiles) => {\n        console.log(acceptedFiles);\n        onChange(acceptedFiles)\n      }}\n    />\n  )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { selectAuth } from 'data/auth'\n\nexport default function SplashScreen() {\n  const auth = useSelector(selectAuth)\n\n  if (auth)\n    return <Navigate to=\"/home\" />\n\n  return <Navigate to=\"/login\" />\n}\n","import { styled } from 'styletron-react'\n\nconst Container = styled(\"div\", {\n  width: '80%',\n  margin: '10% auto 0 auto',\n})\n\nexport default Container\n","\nimport React from 'react'\nimport { Formik } from 'formik'\nimport { Input } from 'baseui/input'\nimport { Button } from 'baseui/button'\nimport { FormControl } from 'baseui/form-control'\n\nconst Form = ({ onSubmit }) => (\n  <Formik\n    initialValues={{ username: '', password: '' }}\n    validate={values => {\n      const errors = {}\n      if (!values.username) errors.username = 'Required'\n      if (!values.password) errors.password = 'Required'\n\n      return errors\n    }}\n    onSubmit={onSubmit}\n  >\n    {({\n      values,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n      isSubmitting,\n    }) => (\n      <form onSubmit={handleSubmit}>\n        <FormControl label=\"Username\">\n          <Input\n            type=\"text\"\n            name=\"username\"\n            error={errors.username && touched.username && errors.username}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.username}\n          />\n        </FormControl>\n        <FormControl label=\"Password\">\n          <Input\n            type=\"password\"\n            name=\"password\"\n            error={errors.password && touched.password && errors.password}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.password}\n          />\n        </FormControl>\n        <Button\n          type=\"submit\"\n          disabled={isSubmitting}\n          isLoading={isSubmitting}\n          onClick={handleSubmit}\n          overrides={{\n            BaseButton: {\n              style: {\n                width: \"100%\"\n              }\n            }\n          }}\n        >\n          Submit\n        </Button>\n      </form>\n    )}\n  </Formik>\n)\n\nexport default Form\n","import React from 'react'\nimport { Navigate } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Notification, KIND } from 'baseui/notification'\nimport { selectAuth, selectError, login } from 'data/auth'\nimport { RestoreBackup } from 'components'\nimport { Form, Container } from './components'\n\nexport default function Login() {\n  const auth = useSelector(selectAuth)\n  const error = useSelector(selectError)\n  const dispatch = useDispatch()\n\n  const onSubmit = (values, { setSubmitting }) => {\n    dispatch(login(values))\n    setSubmitting(false)\n  }\n\n  if (auth)\n    return <Navigate to=\"/home\" />\n\n  return (\n    <Container>\n      <h1>Resources manager</h1>\n\n      <Form onSubmit={onSubmit} />\n\n      <br/>\n\n      {error && error.isInvalid && (\n        <Notification\n          kind={KIND.negative}\n          overrides={{\n            Body: {\n              style: {\n                width: 'auto'\n              }\n            }\n          }}\n        >\n          Invalid password\n        </Notification>\n      )}\n\n      <RestoreBackup />\n    </Container>\n  )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectResource } from 'data/resource'\nimport {\n  ListItemLabel,\n  MenuAdapter,\n} from 'baseui/list'\nimport { ChevronRight } from 'baseui/icon'\n\nconst ItemHistory = ({ ref, ...props }) => {\n  const resources = useSelector(selectResource)\n  const id = (props.item.resource || []).map(({ id }) => id).join()\n\n  return (\n    <MenuAdapter\n      {...props}\n      onClick={() => props.onSelect(props)}\n      ref={ref}\n      endEnhancer={() => <ChevronRight />}\n    >\n      <ListItemLabel\n        description={`Total amount: ${props.item.amount}`}\n      >\n        {resources[id]?.name || 'Not fount'}\n      </ListItemLabel>\n    </MenuAdapter>\n  )\n}\n\nexport default ItemHistory\n","import React from 'react'\nimport {\n  ListItemLabel,\n  MenuAdapter,\n} from 'baseui/list'\nimport { ChevronRight } from 'baseui/icon'\n\nconst ItemResouce = ({ ref, ...props }) => (\n  <MenuAdapter\n    {...props}\n    onClick={() => props.onSelect(props)}\n    ref={ref}\n    endEnhancer={() => <ChevronRight />}\n  >\n    <ListItemLabel\n      description={`Total amount: ${props.item.amount}`}\n    >\n      {props.item.name}\n    </ListItemLabel>\n  </MenuAdapter>\n)\n\nexport default ItemResouce\n","import React from 'react'\nimport { Formik } from 'formik'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from 'baseui/modal'\nimport { Input } from 'baseui/input'\nimport { Select } from 'baseui/select'\nimport { FormControl } from 'baseui/form-control'\nimport { KIND as ButtonKind, Button } from 'baseui/button'\nimport { selectUsername } from 'data/auth'\nimport { selectResource, change } from 'data/resource'\nimport { include } from 'data/history'\n\nexport default function ViewerHistory({ item, onClose }) {\n  const username = useSelector(selectUsername)\n  const resources = useSelector(selectResource)\n  const dispatch = useDispatch()\n\n  const isEdit = Object.keys(item || {}).length > 0\n  const initialValues = isEdit\n    ? item\n    : { resource: [], amount: 0 }\n\n  const onSubmit = (values, { setSubmitting }) => {\n    const resourceId = values.resource.map(({ id }) => id).join()\n    const submitData = {\n      id: (new Date()).toISOString(),\n      username,\n      resourceId,\n      ...values,\n    }\n\n    dispatch(include(submitData))\n    dispatch(change(submitData))\n    setSubmitting(false)\n    onClose()\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={values => {\n        const errors = {}\n        if (!values.resource) errors.resource = 'Required'\n        if (!values.amount) errors.amount = 'Required'\n\n        return errors\n      }}\n      onSubmit={onSubmit}\n    >\n      {({\n        values,\n        errors,\n        touched,\n        handleChange,\n        handleBlur,\n        setFieldValue,\n        handleSubmit,\n        isSubmitting,\n      }) => (\n        <form onSubmit={handleSubmit}>\n          <ModalHeader>{isEdit ? \"View\" : \"New\"}</ModalHeader>\n          <ModalBody>\n            <FormControl label=\"Resouce\">\n              <Select\n                options={Object.values(resources)}\n                placeholder=\"Select resource\"\n                name=\"resource\"\n                labelKey=\"name\"\n                valueKey=\"id\"\n                onChange={({ value }) => setFieldValue('resource', value)\n                }\n                error={errors.resource && touched.resource && errors.resource}\n                onBlur={handleBlur}\n                value={values.resource}\n                disabled={isEdit}\n              />\n            </FormControl>\n            <FormControl label=\"Amount\">\n              <Input\n                type=\"number\"\n                name=\"amount\"\n                error={errors.amount && touched.amount && errors.amount}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.amount}\n                disabled={isEdit}\n              />\n            </FormControl>\n\n            {isEdit && (\n              <>\n                <FormControl label=\"Created by\">\n                  <Input\n                    type=\"text\"\n                    name=\"username\"\n                    value={values.username}\n                    disabled={isEdit}\n                  />\n                </FormControl>\n\n                <FormControl label=\"Created at\">\n                  <Input\n                    type=\"text\"\n                    name=\"id\"\n                    value={(new Date(values.id)).toLocaleString()}\n                    disabled={isEdit}\n                  />\n                </FormControl>\n              </>\n            )}\n          </ModalBody>\n\n          <ModalFooter>\n            <Button\n              type=\"button\"\n              kind={ButtonKind.tertiary}\n              disabled={isSubmitting}\n              isLoading={isSubmitting}\n              onClick={onClose}\n            >\n              Cancel\n            </Button>\n            {!isEdit && (\n              <Button\n                type=\"submit\"\n                disabled={isSubmitting}\n                isLoading={isSubmitting}\n                onClick={handleSubmit}\n              >\n                Save\n              </Button>\n            )}\n          </ModalFooter>\n        </form>\n      )}\n    </Formik>\n  )\n}\n","import React from 'react'\nimport { Formik } from 'formik'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { selectUsername } from 'data/auth'\nimport { include } from 'data/resource'\nimport {\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from 'baseui/modal'\nimport { Input } from 'baseui/input'\nimport { FormControl } from 'baseui/form-control'\nimport { KIND as ButtonKind, Button } from 'baseui/button'\n\nexport default function ViewerResource({ item, onClose }) {\n  const username = useSelector(selectUsername)\n  const dispatch = useDispatch()\n\n  const isEdit = Object.keys(item || {}).length > 0\n  const initialValues = isEdit\n    ? item\n    : { name: '', amount: '' }\n\n  const onSubmit = (values, { setSubmitting }) => {\n    const submitData = {\n      id: (new Date()).toISOString(),\n      username,\n      ...values,\n    }\n\n    dispatch(include(submitData))\n    setSubmitting(false)\n    onClose()\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={values => {\n        const errors = {}\n        if (!values.name) errors.name = 'Required'\n        if (!values.amount) errors.amount = 'Required'\n\n        return errors\n      }}\n      onSubmit={onSubmit}\n    >\n      {({\n        values,\n        errors,\n        touched,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        isSubmitting,\n      }) => (\n        <form onSubmit={handleSubmit}>\n          <ModalHeader>{isEdit ? \"View\" : \"New\"}</ModalHeader>\n          <ModalBody>\n            <FormControl label=\"Name\">\n              <Input\n                type=\"text\"\n                name=\"name\"\n                error={errors.name && touched.name && errors.name}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.name}\n              />\n            </FormControl>\n            <FormControl label=\"Amount\">\n              <Input\n                type=\"number\"\n                name=\"amount\"\n                error={errors.amount && touched.amount && errors.amount}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.amount}\n                disabled={isEdit}\n              />\n            </FormControl>\n\n            {isEdit && (\n              <>\n                <FormControl label=\"Created by\">\n                  <Input\n                    type=\"text\"\n                    name=\"username\"\n                    value={values.username}\n                    disabled={isEdit}\n                  />\n                </FormControl>\n\n                <FormControl label=\"Created at\">\n                  <Input\n                    type=\"text\"\n                    name=\"id\"\n                    value={(new Date(values.id)).toLocaleString()}\n                    disabled={isEdit}\n                  />\n                </FormControl>\n              </>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              kind={ButtonKind.tertiary}\n              disabled={isSubmitting}\n              isLoading={isSubmitting}\n              onClick={onClose}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={isSubmitting}\n              isLoading={isSubmitting}\n              onClick={handleSubmit}\n            >\n              Save\n            </Button>\n          </ModalFooter>\n        </form>\n      )}\n    </Formik>\n  )\n}\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Button } from 'baseui/button'\nimport { Tabs, Tab } from 'baseui/tabs-motion'\nimport { logout } from 'data/auth'\nimport { selectResource } from 'data/resource'\nimport { selectHistory } from 'data/history'\nimport { List, RestoreBackup } from 'components'\nimport {\n  ViewerResource,\n  ViewerHistory,\n  ItemResouce,\n  ItemHistory,\n} from './components'\n\nexport default function Home() {\n  const [activeKey, setActiveKey] = React.useState('0')\n  const resources = useSelector(selectResource)\n  const history = useSelector(selectHistory)\n\n  const dispatch = useDispatch()\n\n  function download(content, fileName, contentType) {\n    var a = document.createElement(\"a\");\n    var file = new Blob([content], {type: contentType});\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n  }\n\n  const downloadBackup = () => {\n    const allData = Object.keys(localStorage)\n      .reduce(function(obj, str) { \n        obj[str] = localStorage.getItem(str); \n        return obj\n      }, {})\n\n    download(JSON.stringify(allData), 'database.json', 'text/plain')\n  }\n\n  return (\n    <Tabs\n      activeKey={activeKey}\n      onChange={({ activeKey }) => setActiveKey(activeKey)}\n    >\n      <Tab title=\"Resources\">\n        <List\n          title=\"Resources\"\n          items={Object.values(resources)}\n          Viewer={ViewerResource}\n          Item={ItemResouce}\n        />\n      </Tab>\n      <Tab title=\"Historic\">\n        <List\n          title=\"Historic\"\n          items={[...history].reverse()}\n          Viewer={ViewerHistory}\n          Item={ItemHistory}\n        />\n      </Tab>\n      <Tab title=\"Setting\">\n        <RestoreBackup />\n        <br/>\n        <Button onClick={() => downloadBackup()}>\n          Backup\n        </Button>\n        <br/>\n        <br/>\n        <Button onClick={() => dispatch(logout())}>\n          Logoff\n        </Button>\n      </Tab>\n    </Tabs>\n  )\n}\n","import React from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport { RequireAuth } from 'components'\nimport { SplashScreen, Login, Home } from './scenes'\n\nexport default function Root() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<SplashScreen />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route\n        path=\"/home\"\n        element={\n          <RequireAuth>\n            <Home />\n          </RequireAuth>\n        }\n      />\n    </Routes>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { Client as Styletron } from 'styletron-engine-atomic'\nimport { Provider as StyletronProvider } from 'styletron-react'\nimport { LightTheme, BaseProvider } from 'baseui'\n\nimport { store } from './data'\nimport * as serviceWorker from './serviceWorker'\nimport Root from './scenes'\nimport './index.css'\n\nconst engine = new Styletron();\n\nReactDOM.render(\n  <BrowserRouter>\n    <StyletronProvider value={engine}>\n      <BaseProvider theme={LightTheme}>\n        <Provider store={store}>\n          <Root />\n        </Provider>\n      </BaseProvider>\n    </StyletronProvider>\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\nserviceWorker.register()\n"],"sourceRoot":""}